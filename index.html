<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <title>Controle Financeiro</title>
</head>
<body data-theme="dark">

    <div class="theme-switch-wrapper">
        <label class="theme-switch" for="checkbox"><input type="checkbox" id="checkbox" /><div class="slider round"></div></label>
    </div>

    <!-- TELA DE LOGIN (Original) -->
    <div class="main-login" id="login-screen">
        <!-- Seu conteúdo de login original permanece aqui... -->
        <div class="left-login">
            <h1>Faça o login<br>E comece a usar</h1>
            <img src="img/img.svg" class="left-login-image" alt="Finance Animation">
        </div>
        <div class="right-login">
            <div class="card-login">
                <h1>LOGIN</h1>
                <div class="textfield"><label for="usuario">Usuário</label><input type="text" id="usuario" placeholder="Usuário"></div>
                <div class="textfield"><label for="senha">Senha</label><input type="password" id="senha" placeholder="Senha"></div>
                <button class="btn-login" id="login-button">Login</button>
            </div>
        </div>
    </div>

    <!-- CONTEÚDO PRINCIPAL (Agora com Navegação) -->
    <div id="main-content" style="display: none;">
        <header>
            <nav class="main-nav">
                <a href="#" class="nav-link active" data-page="dashboard">Dashboard</a>
                <a href="#" class="nav-link" data-page="categorias">Categorias</a>
                <a href="#" class="nav-link" data-page="orcamentos">Orçamentos</a>
            </nav>
        </header>

        <main class="main-dashboard">
            <!-- ===================== PÁGINA DASHBOARD ===================== -->
            <div id="dashboard-page" class="page active">
                <!-- Seus placeholders do dashboard original permanecem aqui... -->
                <div class="dashboard-row">
                    <div class="resume-container-main">
                        <div class="resume-item"><p>Receitas (Total)</p><span class="income-value">R$ 0,00</span></div>
                        <div class="resume-item"><p>Despesas (Total)</p><span class="expense-value">R$ 0,00</span></div>
                        <div class="resume-item"><p>Investimentos</p><span class="investment-value">R$ 0,00</span></div>
                        <div class="resume-item total-item"><p>Saldo Geral</p><span class="total-value">R$ 0,00</span></div>
                    </div>
                    <div class="planning-container">
                        <h4>Planejamento Futuro</h4>
                        <div class="planning-item"><p>Lançamentos Futuros</p><span>R$ 0,00</span></div>
                        <div class="planning-item"><p>Última parcela em:</p><span>-</span></div>
                    </div>
                </div>
                <div class="transactions-section">
                    <div class="button-container"><button id="btnNew">Adicionar Lançamento</button></div>
                    <div class="div-table"><table><thead>...</thead><tbody></tbody></table></div>
                </div>
                <div class="dashboard-row">
                    <div class="projections-container"><h2>Projeção de Parcelas por Mês</h2><div class="info-section">...</div></div>
                    <div class="budgets-container"><h2>Orçamentos Mensais</h2><div id="budgets-overview" class="info-section">...</div></div>
                </div>
            </div>

            <!-- ===================== NOVA PÁGINA DE CATEGORIAS ===================== -->
            <div id="categorias-page" class="page">
                <h2>Gerenciar Categorias</h2>
                <div class="management-container">
                    <div class="management-form">
                        <h3>Nova Categoria</h3>
                        <div class="form-group"><label for="cat-nome">Nome da Categoria</label><input type="text" id="cat-nome"></div>
                        <button id="btn-salvar-categoria" class="btn-salvar-geral">Salvar Categoria</button>
                    </div>
                    <div class="management-list">
                        <h3>Categorias Existentes</h3>
                        <ul id="lista-categorias"><li>Nenhuma categoria cadastrada.</li></ul>
                    </div>
                </div>
            </div>

            <!-- ===================== NOVA PÁGINA DE ORÇAMENTOS ===================== -->
            <div id="orcamentos-page" class="page">
                <h2>Gerenciar Orçamentos</h2>
                <div class="management-container">
                    <div class="management-form">
                        <h3>Novo Orçamento</h3>
                        <div class="form-group"><label for="orc-categoria">Selecione a Categoria</label><select id="orc-categoria"><option>Cadastre uma categoria primeiro</option></select></div>
                        <div class="form-group"><label for="orc-valor">Valor do Orçamento (R$)</label><input type="number" id="orc-valor" placeholder="Ex: 400.00"></div>
                        <button id="btn-salvar-orcamento" class="btn-salvar-geral">Salvar Orçamento</button>
                    </div>
                    <div class="management-list">
                        <h3>Orçamentos Definidos</h3>
                        <ul id="lista-orcamentos"><li>Nenhum orçamento definido.</li></ul>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- ===================== NOVO MODAL DE LANÇAMENTO (Totalmente refeito) ===================== -->
    <div class="modal-container" id="modal">
        <div class="modal-content">
            <span class="close-button">×</span>
            <h2>Novo Lançamento</h2>
            <div class="form-group"><label for="m-nome">Nome</label><input id="m-nome" type="text" required placeholder="Ex: Compra no Mercado"></div>
            <div class="form-group"><label for="m-descricao">Descrição (Opcional)</label><textarea id="m-descricao" rows="2"></textarea></div>
            <div class="form-group"><label for="m-valor">Valor</label><input id="m-valor" type="number" required></div>
            <div class="form-group">
                <label for="m-tipo">Tipo</label>
                <select id="m-tipo">
                    <option value="Receita">Receita</option>
                    <option value="Despesa" selected>Despesa</option>
                    <option value="Investimento">Investimento</option>
                </select>
            </div>
            <!-- Campos que aparecem apenas para despesas -->
            <div id="despesa-options" class="hidden">
                <div class="checkbox-group">
                    <input type="checkbox" id="m-fixa"><label for="m-fixa">É uma despesa fixa?</label>
                </div>
                <div class="checkbox-group">
                    <input type="checkbox" id="m-parcelada"><label for="m-parcelada">É compra parcelada?</label>
                </div>
            </div>
            <!-- Campo que aparece apenas se parcelado for marcado -->
            <div id="parcelas-group" class="form-group hidden">
                <label for="m-parcelas">Quantidade de Parcelas</label>
                <input id="m-parcelas" type="number" min="2">
            </div>
            <button id="btnSalvar" class="btn-salvar-geral">Salvar Lançamento</button>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>